{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aloks\\\\OneDrive\\\\Desktop\\\\MERN-BUS-APP-master\\\\frontend\\\\src\\\\components\\\\PaymentTab\\\\PaymentTab.js\";\nimport React from 'react';\nimport Card from 'react-credit-cards';\nimport './PaymentTab.css';\nimport jwt_decode from 'jwt-decode';\nimport { formatCreditCardNumber, formatCVC, formatExpirationDate, formatFormData } from './utils';\nimport 'react-credit-cards/es/styles-compiled.css';\nexport default class App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      number: '',\n      name: '',\n      expiry: '',\n      cvc: '',\n      issuer: '',\n      focused: '',\n      formData: '',\n      token: ''\n    };\n\n    this.handleCallback = ({\n      issuer\n    }, isValid) => {\n      if (isValid) {\n        this.setState({\n          issuer\n        });\n      }\n    };\n\n    this.handleInputFocus = ({\n      target\n    }) => {\n      this.setState({\n        focused: target.name\n      });\n    };\n\n    this.handleInputChange = ({\n      target\n    }) => {\n      if (target.name === 'number') {\n        target.value = formatCreditCardNumber(target.value);\n      } else if (target.name === 'expiry') {\n        target.value = formatExpirationDate(target.value);\n      } else if (target.name === 'cvc') {\n        target.value = formatCVC(target.value);\n      }\n\n      this.setState({\n        [target.name]: target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const {\n        issuer\n      } = this.state;\n      const formData = [...e.target.elements].filter(d => d.name).reduce((acc, d) => {\n        acc[d.name] = d.value;\n        return acc;\n      }, {});\n      this.setState({\n        formData\n      });\n      this.form.reset();\n    };\n\n    this.moveToTicketPage = e => {\n      e.preventDefault();\n      localStorage.setItem('paymentData', JSON.stringify(this.state.token));\n      window.location.href = '/getTicket';\n    };\n\n    this.renderNamesOfPassenger = () => {\n      let passArray = localStorage.getItem('nameData');\n\n      if (passArray) {\n        let nameArray = JSON.parse(passArray);\n        return nameArray.map((name, idx) => {\n          return /*#__PURE__*/React.createElement(\"p\", {\n            key: idx,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 24\n            }\n          }, \" \", name, \" \");\n        });\n      }\n    };\n\n    this.renderSeatNumbers = () => {\n      let seatArray = localStorage.getItem('reservedSeats');\n\n      if (seatArray) {\n        let seaArr = JSON.parse(seatArray);\n        return seaArr.map((seat, idx) => {\n          return /*#__PURE__*/React.createElement(\"p\", {\n            key: idx,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 24\n            }\n          }, \" \", seat, \" \");\n        });\n      }\n    };\n\n    this.getSumTotal = () => {\n      let count = 0;\n      let tax = 150;\n      let seatArray = localStorage.getItem('reservedSeats');\n\n      if (seatArray) {\n        let seaArr = JSON.parse(seatArray);\n\n        for (let i = 0; i < seaArr.length; i++) {\n          count++;\n        }\n\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 22\n          }\n        }, /*#__PURE__*/React.createElement(\"hr\", {\n          className: \"hr3\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 17\n          }\n        }), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 17\n          }\n        }, \" \", 1000 * count, \" \"), \" \", /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 44\n          }\n        }, \" +\", tax, \" \"), \" \", /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 61\n          }\n        }, \" \", 1000 * count + tax, \" \"), ' ', \" \");\n      }\n    };\n  }\n\n  componentDidMount() {\n    const tok = sessionStorage.getItem('authToken');\n    const decoded = jwt_decode(tok);\n    this.setState({\n      token: decoded.user\n    });\n  }\n\n  render() {\n    const {\n      name,\n      number,\n      expiry,\n      cvc,\n      focused,\n      issuer,\n      formData,\n      token\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"paym\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      key: \"Payment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App-payment cl-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"pPayment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, \" Enter Credit card details \"), ' ', \" \", /*#__PURE__*/React.createElement(Card, {\n      number: number,\n      name: name,\n      expiry: expiry,\n      cvc: cvc,\n      focused: focused,\n      callback: this.handleCallback,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 77\n      }\n    }), ' ', \" \", /*#__PURE__*/React.createElement(\"form\", {\n      className: \"credit-form\",\n      ref: c => this.form = c,\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"tel\",\n      name: \"number\",\n      className: \"frm-ctrl\",\n      placeholder: \"Card Number\",\n      pattern: \"[\\\\d| ]{16,22}\",\n      required: true,\n      onChange: this.handleInputChange,\n      onFocus: this.handleInputFocus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }\n    }), ' ', \" \"), ' ', \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      className: \"frm-ctrl\",\n      placeholder: \"Name\",\n      required: true,\n      onChange: this.handleInputChange,\n      onFocus: this.handleInputFocus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    }), ' ', \" \"), ' ', \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"tel\",\n      name: \"expiry\",\n      className: \"frm-ctrl\",\n      placeholder: \"Valid Thru\",\n      pattern: \"\\\\d\\\\d/\\\\d\\\\d\",\n      required: true,\n      onChange: this.handleInputChange,\n      onFocus: this.handleInputFocus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }\n    }), ' ', \" \"), ' ', \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"tel\",\n      name: \"cvc\",\n      className: \"frm-ctrl cvc\",\n      placeholder: \"CVC\",\n      pattern: \"\\\\d{3,4}\",\n      required: true,\n      onChange: this.handleInputChange,\n      onFocus: this.handleInputFocus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }), ' ', \" \"), ' ', \" \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"hidden\",\n      name: \"issuer\",\n      value: issuer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 24\n      }\n    }), ' ', \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: e => this.moveToTicketPage(e),\n      className: \"btn btn-light btCustom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 13\n      }\n    }, \"PAY \", ' ', \" \"), ' ', \" \"), ' ', \" \"), ' ', \" \"), ' ', \" \"), ' ', \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"columnTwo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 13\n      }\n    }, \" Unique Travels \"), ' ', \" \", /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 13\n      }\n    }, \" BOOKING DETAILS \"), ' ', \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 44\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 pt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"hdng\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 13\n      }\n    }, \" Username \"), \" \", /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"hr3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 51\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"hdng\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 13\n      }\n    }, \" Date \"), \" \", /*#__PURE__*/React.createElement(\"p\", {\n      className: \"hdng\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 47\n      }\n    }, \" From \"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"hdng\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 13\n      }\n    }, \" To \"), \" \", /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"hr3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"hdng\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }\n    }, \" Passengers \"), ' ', \" \", this.renderNamesOfPassenger(), \" \", /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"hr3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 92\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"hdng\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 13\n      }\n    }, \" Ticket price \"), ' ', \" \", /*#__PURE__*/React.createElement(\"p\", {\n      className: \"hdng\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 60\n      }\n    }, \" Tax \"), ' ', \" \", /*#__PURE__*/React.createElement(\"p\", {\n      className: \"hdng\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 51\n      }\n    }, \" Toal Sum \"), ' ', \" \"), ' ', \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"hr3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"usrName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 13\n      }\n    }, \" \", ' ', \" \", localStorage.getItem('date'), \" \", ' ', \" \"), ' ', \" \", /*#__PURE__*/React.createElement(\"p\", {\n      className: \"usrName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 22\n      }\n    }, \" \", localStorage.getItem('start'), \" \"), ' ', \" \", /*#__PURE__*/React.createElement(\"p\", {\n      className: \"usrName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 84\n      }\n    }, \" \", ' ', \" \", localStorage.getItem('destination'), \" \", ' ', \" \"), ' ', \" \", /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"hr3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 22\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"hdng\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 13\n      }\n    }, \"Seat No \", ' ', \" \"), \" \", this.renderSeatNumbers(), \" \", /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 44\n      }\n    }, \" \", this.getSumTotal(), \" \")), ' ', \" \"), ' ', \" \"), ' ', \" \"), ' ', \" \"), ' ', \" \");\n  }\n\n}","map":{"version":3,"sources":["C:/Users/aloks/OneDrive/Desktop/MERN-BUS-APP-master/frontend/src/components/PaymentTab/PaymentTab.js"],"names":["React","Card","jwt_decode","formatCreditCardNumber","formatCVC","formatExpirationDate","formatFormData","App","Component","state","number","name","expiry","cvc","issuer","focused","formData","token","handleCallback","isValid","setState","handleInputFocus","target","handleInputChange","value","handleSubmit","e","preventDefault","elements","filter","d","reduce","acc","form","reset","moveToTicketPage","localStorage","setItem","JSON","stringify","window","location","href","renderNamesOfPassenger","passArray","getItem","nameArray","parse","map","idx","renderSeatNumbers","seatArray","seaArr","seat","getSumTotal","count","tax","i","length","componentDidMount","tok","sessionStorage","decoded","user","render","c"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Card from 'react-credit-cards'\nimport './PaymentTab.css'\nimport jwt_decode from 'jwt-decode'\n\nimport {\n    formatCreditCardNumber,\n    formatCVC,\n    formatExpirationDate,\n    formatFormData\n} from './utils'\nimport 'react-credit-cards/es/styles-compiled.css'\n\nexport default class App extends React.Component {\n    state = {\n        number: '',\n        name: '',\n        expiry: '',\n        cvc: '',\n        issuer: '',\n        focused: '',\n        formData: '',\n        token: ''\n    }\n\n    componentDidMount() {\n        const tok = sessionStorage.getItem('authToken')\n        const decoded = jwt_decode(tok)\n        this.setState({ token: decoded.user })\n    }\n\n    handleCallback = ({ issuer }, isValid) => {\n        if (isValid) {\n            this.setState({ issuer })\n        }\n    }\n\n    handleInputFocus = ({ target }) => {\n        this.setState({\n            focused: target.name\n        })\n    }\n\n    handleInputChange = ({ target }) => {\n        if (target.name === 'number') {\n            target.value = formatCreditCardNumber(target.value)\n        } else if (target.name === 'expiry') {\n            target.value = formatExpirationDate(target.value)\n        } else if (target.name === 'cvc') {\n            target.value = formatCVC(target.value)\n        }\n\n        this.setState({\n            [target.name]: target.value\n        })\n    }\n\n    handleSubmit = e => {\n        e.preventDefault()\n        const { issuer } = this.state\n        const formData = [...e.target.elements]\n            .filter(d => d.name)\n            .reduce((acc, d) => {\n                acc[d.name] = d.value\n                return acc\n            }, {})\n\n        this.setState({ formData })\n        this.form.reset()\n    }\n\n    moveToTicketPage = e => {\n        e.preventDefault()\n        localStorage.setItem('paymentData', JSON.stringify(this.state.token))\n        window.location.href = '/getTicket'\n    }\n\n    renderNamesOfPassenger = () => {\n        let passArray = localStorage.getItem('nameData')\n        if (passArray) {\n            let nameArray = JSON.parse(passArray)\n            return nameArray.map((name, idx) => {\n                return <p key = { idx } > { name } < /p>\n            })\n        }\n    }\n\n    renderSeatNumbers = () => {\n        let seatArray = localStorage.getItem('reservedSeats')\n        if (seatArray) {\n            let seaArr = JSON.parse(seatArray)\n            return seaArr.map((seat, idx) => {\n                return <p key = { idx } > { seat } < /p>\n            })\n        }\n    }\n\n    getSumTotal = () => {\n        let count = 0\n        let tax = 150\n        let seatArray = localStorage.getItem('reservedSeats')\n        if (seatArray) {\n            let seaArr = JSON.parse(seatArray)\n            for (let i = 0; i < seaArr.length; i++) {\n                count++\n            }\n            return ( <\n                div >\n                <\n                hr className = 'hr3' / >\n                <\n                p > { 1000 * count } < /p> <p> +{tax} </p > < p > { 1000 * count + tax } < /p>{' '} <\n                /div>\n            )\n        }\n    }\n\n    render() {\n        const {\n            name,\n            number,\n            expiry,\n            cvc,\n            focused,\n            issuer,\n            formData,\n            token\n        } = this.state\n\n        return ( <\n            div className = 'paym' >\n            <\n            div className = 'row' >\n            <\n            div key = 'Payment' >\n            <\n            div className = 'App-payment cl-1' >\n            <\n            p className = 'pPayment' > Enter Credit card details < /p>{' '} <\n            Card number = { number }\n            name = { name }\n            expiry = { expiry }\n            cvc = { cvc }\n            focused = { focused }\n            callback = { this.handleCallback }\n            />{' '} <\n            form className = 'credit-form'\n            ref = { c => (this.form = c) }\n            onSubmit = { this.handleSubmit } >\n            <\n            div className = 'form-group' >\n            <\n            input type = 'tel'\n            name = 'number'\n            className = 'frm-ctrl'\n            placeholder = 'Card Number'\n            pattern = '[\\d| ]{16,22}'\n            required onChange = { this.handleInputChange }\n            onFocus = { this.handleInputFocus }\n            />{' '} <\n            /div>{' '} <\n            div className = 'form-group' >\n            <\n            input type = 'text'\n            name = 'name'\n            className = 'frm-ctrl'\n            placeholder = 'Name'\n            required onChange = { this.handleInputChange }\n            onFocus = { this.handleInputFocus }\n            />{' '} <\n            /div>{' '} <\n            div className = 'form-group' >\n            <\n            input type = 'tel'\n            name = 'expiry'\n            className = 'frm-ctrl'\n            placeholder = 'Valid Thru'\n            pattern = '\\d\\d/\\d\\d'\n            required onChange = { this.handleInputChange }\n            onFocus = { this.handleInputFocus }\n            />{' '} <\n            /div>{' '} <\n            div className = 'form-group' >\n            <\n            input type = 'tel'\n            name = 'cvc'\n            className = 'frm-ctrl cvc'\n            placeholder = 'CVC'\n            pattern = '\\d{3,4}'\n            required onChange = { this.handleInputChange }\n            onFocus = { this.handleInputFocus }\n            />{' '} <\n            /div>{' '} <\n            input type = 'hidden'\n            name = 'issuer'\n            value = { issuer }\n            />{' '} <\n            div className = '' >\n            <\n            button onClick = { e => this.moveToTicketPage(e) }\n            className = 'btn btn-light btCustom' >\n            PAY { ' ' } <\n            /button>{' '} <\n            /div>{' '} <\n            /form>{' '} <\n            /div>{' '} <\n            /div>{' '} <\n            div className = 'columnTwo' >\n            <\n            h3 > Unique Travels < /h3>{' '} <\n            div >\n            <\n            p > BOOKING DETAILS < /p>{' '} <\n            div className = 'row' >\n            <\n            div className = 'col-6 pt' >\n            <\n            p className = 'hdng' > Username < /p> <hr className='hr3' / >\n            <\n            p className = 'hdng' > Date < /p> <p className='hdng'> From </p >\n            <\n            p className = 'hdng' > To < /p> <hr className='hr3' / >\n            <\n            p className = 'hdng' > Passengers < /p>{' '} { this.renderNamesOfPassenger() } < hr className = 'hr3' / >\n            <\n            p className = 'hdng' > Ticket price < /p>{' '} <\n            p className = 'hdng' > Tax < /p>{' '} <\n            p className = 'hdng' > Toal Sum < /p>{' '} <\n            /div>{' '} <\n            div className = 'col-6' >\n            <\n            hr className = 'hr3' / >\n            <\n            p className = 'usrName' > { ' ' } { localStorage.getItem('date') } { ' ' } <\n            /p>{' '} <\n            p className = 'usrName' > { localStorage.getItem('start') } < /p>{' '} <\n            p className = 'usrName' > { ' ' } { localStorage.getItem('destination') } { ' ' } <\n            /p>{' '} <\n            hr className = 'hr3' / >\n            <\n            p className = 'hdng' >\n            Seat No { ' ' } <\n            /p> {this.renderSeatNumbers()} <p> {this.getSumTotal()} </p >\n            <\n            /div>{' '} <\n            /div>{' '} <\n            /div>{' '} <\n            /div>{' '} <\n            /div>{' '} <\n            /div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}